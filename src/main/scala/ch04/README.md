# CHAPTER 04 테스트 구축하기

> 리펙터링을 제대로 하려면 불가피하게 저지르는 실수를 잡아주는 견고한 테스트 스위트가 뒷받침돼야 한다

리펙터링이 아니더라도 테스트 작성은 개발의 효율을 높여준다.

## 4.1 자가 테스트 코드의 가치

프로그래머들은 실제로 코드를 작성하는 시간보다 분석, 설계 그리고 **디버깅**에 대부분의 시간을 쓴다.

> 모든 테스트를 완전히 자동화하고 그 결과까지 스스로 검사하게 만들자.

이렇게 하면 테스트가 컴파일 만큼 쉬워지고, 생산성이 높아진다.

> 테스트를 작성하기 가장 좋은 시점은 프로그래밍을 시작하기 전이다.

TDD 를 사용하면 구현보다 인터페이스에 집중하고 완료시점을 판단할 수 있다.

레드-그린-리팩터링 사이클을 한 시간에도 여러 차례 진행하면 생산적이면서도 차분하게 작업할 수 있다.

## 4.2 테스트할 샘플 코드

## 4.3 첫 번째 테스트

> describe 블록과 it 블록에 부연 설명용 문자열을 써넣는 방식은 개발자마다 다르다.
> 
> 나는 실패한 테스트가 무엇인지 실벽할 수 있을 정도로만 작성하는 편이다.
>
> 실패해야 할 상황에서는 반드시 실패하게 만들자.
 
Tip. 일시적으로 코드에 오류를 주입하여 실패한 테스트를 확인한 후 오류를 제거하여 정상 동작을 확함

> 핵심은 (GUI냐 콘솔이냐가 아니라) 모든 테스트가 통과했다는 사실을 빨리 알 수 있다는 데 있다.
